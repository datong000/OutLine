var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        Laya.stage.alignV = GameConfig_1.default.alignV;
        Laya.stage.alignH = GameConfig_1.default.alignH;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        // if ( GameConfig.stat ) Laya.Stat.show();
        Laya.alertGlobalError = false;
        // Laya.Stat.show();
        Laya.Shader3D.debugMode = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //查看描边Shader
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        //打开查看自发光Shader
        // new Shader_GlowingEdge();
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 自定义描边材质球
 */
var CtmMat_Outline = /** @class */ (function (_super) {
    __extends(CtmMat_Outline, _super);
    function CtmMat_Outline() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CtmMat_Outline.prototype.init = function () {
        this.setShaderName("CtmSha_Outline");
        this.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_OPAQUE;
    };
    Object.defineProperty(CtmMat_Outline.prototype, "Color", {
        set: function (value) {
            this._shaderValues.setVector(CtmMat_Outline.Color, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CtmMat_Outline.prototype, "LineWidth", {
        set: function (value) {
            this._shaderValues.setNumber(CtmMat_Outline.LineWidth, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CtmMat_Outline.prototype, "Texture", {
        set: function (value) {
            this._shaderValues.setTexture(CtmMat_Outline.Texture, value);
        },
        enumerable: true,
        configurable: true
    });
    CtmMat_Outline.Color = Laya.Shader3D.propertyNameToID("u_Color");
    CtmMat_Outline.LineWidth = Laya.Shader3D.propertyNameToID("u_LineWidth");
    CtmMat_Outline.Texture = Laya.Shader3D.propertyNameToID("u_Texture");
    return CtmMat_Outline;
}(Laya.BlinnPhongMaterial));
exports.CtmMat_Outline = CtmMat_Outline;
var CtmSha_Outline = /** @class */ (function () {
    function CtmSha_Outline() {
    }
    CtmSha_Outline.prototype.initShader = function () {
        var attributeMap = {
            "a_Position": Laya.VertexMesh.MESH_POSITION0,
            "a_Normal": Laya.VertexMesh.MESH_NORMAL0,
            'a_Texcoord0': Laya.VertexMesh.MESH_TEXTURECOORDINATE0,
            'a_BoneWeights': Laya.VertexMesh.MESH_BLENDWEIGHT0,
            'a_BoneIndices': Laya.VertexMesh.MESH_BLENDINDICES0
        };
        var uniformMap = {
            'u_Bones': Laya.Shader3D.PERIOD_CUSTOM,
            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,
            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE,
            'u_Color': Laya.Shader3D.PERIOD_MATERIAL,
            'u_LineWidth': Laya.Shader3D.PERIOD_MATERIAL,
            'u_Texture': Laya.Shader3D.PERIOD_MATERIAL,
        };
        var vs1 = "\n        #include \"Lighting.glsl\";\n        attribute vec4 a_Position;\n        attribute vec2 a_Texcoord0;\n        attribute vec3 a_Normal;\n        uniform mat4 u_MvpMatrix;\n        uniform mat4 u_WorldMat;\n        varying vec2 v_Texcoord0;\n        varying vec3 v_Normal;\n\n        #ifdef BONE\n        attribute vec4 a_BoneIndices;\n        attribute vec4 a_BoneWeights;\n        const int c_MaxBoneCount = 24;\n        uniform mat4 u_Bones[c_MaxBoneCount];\n        #endif\n\n        void main()\n        {\n            //\u8BA1\u7B97\u9876\u70B9\u4F4D\u7F6E\n            v_Texcoord0 = a_Texcoord0;\n            #ifdef BONE\n            mat4 skinTransform=mat4(0.0);\n            skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n            skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n            skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n            skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n            vec4 position = skinTransform * a_Position;\n            gl_Position=u_MvpMatrix * position;\n            mat3 worldMat=mat3(u_WorldMat * skinTransform);\n            #else\n            gl_Position=u_MvpMatrix * a_Position;\n            mat3 worldMat=mat3(u_WorldMat);\n            #endif\n            v_Normal=worldMat*a_Normal;\n            gl_Position=remapGLPositionZ(gl_Position); \n        }\n        ";
        var ps1 = "\n        #ifdef FSHIGHPRECISION\n        precision highp float;\n        #else\n        precision mediump float;\n        #endif\n        uniform vec4 u_Color;\n        uniform sampler2D u_Texture;\n        varying vec2 v_Texcoord0;\n\n        void main()\n        {\n            //\u7EB9\u7406\u53D6\u6837\n            // gl_FragColor = vec4(0.0,0.0,0.0,1.0); \n            gl_FragColor = texture2D(u_Texture,v_Texcoord0);\n        }\n        ";
        var customShader = Laya.Shader3D.add("CtmSha_Outline");
        var subShader = new Laya.SubShader(attributeMap, uniformMap, Laya.SkinnedMeshSprite3D.shaderDefines, Laya.BlinnPhongMaterial.shaderDefines);
        customShader.addSubShader(subShader);
        subShader.addShaderPass(vs1, ps1);
        var vs2 = "\n        #include \"Lighting.glsl\";\n        attribute vec4 a_Position;\n        attribute vec3 a_Normal;\n        uniform float u_LineWidth;\n        uniform mat4 u_MvpMatrix;\n        uniform mat4 u_WorldMat;\n        varying vec3 v_Normal;\n        #ifdef BONE\n        attribute vec4 a_BoneIndices;\n        attribute vec4 a_BoneWeights;\n        const int c_MaxBoneCount = 24;\n        uniform mat4 u_Bones[c_MaxBoneCount];\n        #endif\n        void main()\n        {\n            #ifdef BONE\n            mat4 skinTransform=mat4(0.0);\n            skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n            skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n            skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n            skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n            vec4 newPosition = skinTransform * a_Position;\n            mat3 worldMat=mat3(u_WorldMat * skinTransform);\n            #else\n            gl_Position=u_MvpMatrix * a_Position;\n            mat3 worldMat=mat3(u_WorldMat);\n            #endif\n            v_Normal=worldMat*a_Normal;\n            \n            //\u9876\u70B9\u4F4D\u7F6E+\u6CD5\u7EBF*\u957F\u5EA6\n            vec4 position = vec4(a_Position.xyz + a_Normal * u_LineWidth, 1.0); \n            #ifdef BONE\n            gl_Position =  u_MvpMatrix * (skinTransform *  position); \n            #else\n            gl_Position =  u_MvpMatrix *  position; \n            #endif\n        }\n        ";
        var ps2 = "\n        #ifdef FSHIGHPRECISION\n        precision highp float;\n        #else\n        precision mediump float;\n        #endif\n        uniform vec4 u_Color;\n        void main()\n        {\n            //\u8BBE\u7F6E\u63CF\u8FB9\u989C\u8272\n            gl_FragColor = u_Color; \n        }\n        ";
        var pass1 = subShader.addShaderPass(vs2, ps2);
        pass1.renderState.cull = Laya.RenderState.CULL_FRONT;
    };
    return CtmSha_Outline;
}());
exports.CtmSha_Outline = CtmSha_Outline;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var CtmMat_Outline_1 = require("./CtmMat_Outline");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        new CtmMat_Outline_1.CtmSha_Outline().initShader();
        // // //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3.5, 4));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        var baseMaterials;
        //加载精灵
        Laya.Sprite3D.load("res/threeDimen/skinModel/dude/dude.lh", Laya.Handler.create(_this, function (dude) {
            scene.addChild(dude);
            //使用自定义材质
            var customMaterial1 = new CtmMat_Outline_1.CtmMat_Outline();
            customMaterial1.init();
            customMaterial1.Color = new Laya.Vector4(0, 0, 0, 1);
            customMaterial1.LineWidth = 0;
            Laya.Texture2D.load("res/threeDimen/skinModel/dude/Assets/dude/head.png", Laya.Handler.create(this, function (tex) {
                customMaterial1.Texture = tex;
            }));
            var customMaterial2 = new CtmMat_Outline_1.CtmMat_Outline();
            customMaterial2.init();
            customMaterial2.Color = new Laya.Vector4(0, 0, 0, 1);
            customMaterial2.LineWidth = 0;
            Laya.Texture2D.load("res/threeDimen/skinModel/dude/Assets/dude/jacket.png", Laya.Handler.create(this, function (tex) {
                customMaterial2.Texture = tex;
            }));
            var customMaterial3 = new CtmMat_Outline_1.CtmMat_Outline();
            customMaterial3.init();
            customMaterial3.Color = new Laya.Vector4(0, 0, 0, 1);
            customMaterial3.LineWidth = 0;
            Laya.Texture2D.load("res/threeDimen/skinModel/dude/Assets/dude/pants.png", Laya.Handler.create(this, function (tex) {
                customMaterial3.Texture = tex;
            }));
            var customMaterial4 = new CtmMat_Outline_1.CtmMat_Outline();
            customMaterial4.init();
            customMaterial4.Color = new Laya.Vector4(0, 0, 0, 1);
            customMaterial4.LineWidth = 0;
            Laya.Texture2D.load("res/threeDimen/skinModel/dude/Assets/dude/upBodyC.png", Laya.Handler.create(this, function (tex) {
                customMaterial4.Texture = tex;
            }));
            baseMaterials = new Array();
            baseMaterials[0] = customMaterial1;
            baseMaterials[1] = customMaterial2;
            baseMaterials[2] = customMaterial3;
            baseMaterials[3] = customMaterial4;
            this._baseMaterials = baseMaterials;
            dude.getChildAt(0).getChildAt(0).skinnedMeshRenderer.sharedMaterials = baseMaterials;
            dude.transform.position = new Laya.Vector3(0, 0, 0);
            dude.transform.scale = new Laya.Vector3(0.6, 0.6, 0.6);
            dude.transform.rotate(new Laya.Vector3(5, 180, 0), false, false);
            Laya.timer.frameLoop(1, this, function () {
                dude.transform.rotate(new Laya.Vector3(0, 1, 0), false, false);
            });
        }));
        //添加自定义模型
        // var box: Laya.MeshSprite3D = scene.addChild( new Laya.MeshSprite3D( Laya.PrimitiveMesh.createBox( 1, 1, 1 ) ) ) as Laya.MeshSprite3D;
        // box.transform.rotate( new Laya.Vector3( 0, 45, 0 ), false, false );
        var material = new CtmMat_Outline_1.CtmMat_Outline();
        // material.init();
        // material.Color = new Laya.Vector4( 0, 0, 0, 1 );
        // material.LineWidth = 0;
        // Laya.Texture2D.load( "res/layabox.png", Laya.Handler.create( null, function ( tex: Laya.Texture2D )
        // {
        //     material.Texture = tex;
        // } ) );
        // this._material = material;
        // box.meshRenderer.material = material;
        // let out: Laya.Quaternion = new Laya.Quaternion();
        // let yaw, pitch, roll;
        // yaw = pitch = roll = 0;
        // Laya.timer.frameLoop( 1, this, () =>
        // {
        //     yaw += 0.005;
        //     roll += 0.005;
        //     Laya.Quaternion.createFromYawPitchRoll( yaw, pitch, roll, out );
        //     box.transform.rotation = out;
        // } )
        _this.slider.showLabel = false;
        _this.slider.changeHandler = Laya.Handler.create(_this, function () {
            if (baseMaterials != null) {
                for (var i = 0; i < baseMaterials.length; i++) {
                    baseMaterials[i].LineWidth = _this.slider.value / 100;
                }
            }
            else {
                material.LineWidth = _this.slider.value / 100;
            }
        }, null, false);
        _this.colorPicker.changeHandler = new Laya.Handler(_this, _this.onChangeColor, [_this.colorPicker]);
        _this.bt.on(Laya.Event.CLICK, _this, function () {
            if (baseMaterials != null) {
                _this.slider.value = 100;
                for (var i = 0; i < baseMaterials.length; i++) {
                    baseMaterials[i].LineWidth = 1;
                }
            }
            else {
                material.LineWidth = 0.015;
                _this.slider.value = 0.015 * 100;
            }
        });
        return _this;
    }
    GameUI.prototype.onChangeColor = function (colorPicker) {
        var arr = this.colorString2RGB(colorPicker.selectedColor).split(",");
        if (this._baseMaterials != null) {
            for (var i = 0; i < this._baseMaterials.length; i++) {
                this._baseMaterials[i].Color = new Laya.Vector4(Number(arr[0]) / 255, Number(arr[1]) / 255, Number(arr[2]) / 255, 1);
            }
        }
        else {
            this._material.Color = new Laya.Vector4(Number(arr[0]) / 255, Number(arr[1]) / 255, Number(arr[2]) / 255, 1);
        }
    };
    /**
     * #ffffff转RGB颜色值
     */
    GameUI.prototype.colorString2RGB = function (value) {
        var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
        var sColor = value.toLowerCase();
        if (sColor && reg.test(sColor)) {
            if (sColor.length === 4) {
                var sColorNew = "#";
                for (var i = 1; i < 4; i += 1) {
                    sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
                }
                sColor = sColorNew;
            }
            //处理六位的颜色值
            var sColorChange = [];
            for (var i = 1; i < 7; i += 2) {
                sColorChange.push(parseInt("0x" + sColor.slice(i, i + 2)));
            }
            return sColorChange.join(",");
        }
        else {
            return sColor;
        }
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":5,"./CtmMat_Outline":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L+WuieijheWMhS9MYXlhQWlySURFL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0N0bU1hdF9PdXRsaW5lLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywwQ0FBb0M7QUFDcEM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLHNCQUFzQixDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDJDQUFzQztBQUV0QztJQUVDO1FB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QUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUM3QyxJQUFjLEVBQUUsQ0FZZjtBQVpELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQVlwQjtJQVpnQixXQUFBLElBQUk7UUFDakI7WUFBaUMsK0JBQUs7WUFJbEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLG9DQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBQ0wsa0JBQUM7UUFBRCxDQVRBLEFBU0MsQ0FUZ0MsS0FBSyxHQVNyQztRQVRZLGdCQUFXLGNBU3ZCLENBQUE7UUFDRCxHQUFHLENBQUMscUJBQXFCLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0MsQ0FBQyxFQVpnQixJQUFJLEdBQUosT0FBSSxLQUFKLE9BQUksUUFZcEI7QUFBRCxDQUFDLEVBWmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBWWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuLypcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ0ZXN0L1Rlc3RTY2VuZS5zY2VuZVwiO1xuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcbiAgICBjb25zdHJ1Y3Rvcigpe31cbiAgICBzdGF0aWMgaW5pdCgpe1xuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XG4gICAgfVxufVxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xuaW1wb3J0IHsgU2hhZGVyX0dsb3dpbmdFZGdlIH0gZnJvbSBcIi4vc2NyaXB0L1NoYWRlcl9HbG93aW5nRWRnZVwiO1xuY2xhc3MgTWFpblxue1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcblx0XHRpZiAoIHdpbmRvd1sgXCJMYXlhM0RcIiBdICkgTGF5YTNELmluaXQoIEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0ICk7XG5cdFx0ZWxzZSBMYXlhLmluaXQoIEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhWyBcIldlYkdMXCIgXSApO1xuXHRcdExheWFbIFwiUGh5c2ljc1wiIF0gJiYgTGF5YVsgXCJQaHlzaWNzXCIgXS5lbmFibGUoKTtcblx0XHRMYXlhWyBcIkRlYnVnUGFuZWxcIiBdICYmIExheWFbIFwiRGVidWdQYW5lbFwiIF0uZW5hYmxlKCk7XG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XG5cdFx0TGF5YS5zdGFnZS5hbGlnblYgPSBHYW1lQ29uZmlnLmFsaWduVjtcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XG5cblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcblx0XHRpZiAoIEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyggXCJkZWJ1Z1wiICkgPT0gXCJ0cnVlXCIgKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcblx0XHRpZiAoIEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbIFwiUGh5c2ljc0RlYnVnRHJhd1wiIF0gKSBMYXlhWyBcIlBoeXNpY3NEZWJ1Z0RyYXdcIiBdLmVuYWJsZSgpO1xuXHRcdC8vIGlmICggR2FtZUNvbmZpZy5zdGF0ICkgTGF5YS5TdGF0LnNob3coKTtcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSBmYWxzZTtcblx0XHQvLyBMYXlhLlN0YXQuc2hvdygpO1xuXHRcdExheWEuU2hhZGVyM0QuZGVidWdNb2RlID0gdHJ1ZTtcblxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKCBcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKCB0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCApLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OICk7XG5cdH1cblxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZFxuXHR7XG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKCBcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKCB0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkICkgKTtcblx0fVxuXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWRcblx0e1xuXHRcdC8v5p+l55yL5o+P6L65U2hhZGVyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbiggR2FtZUNvbmZpZy5zdGFydFNjZW5lICk7XG5cblx0XHQvL+aJk+W8gOafpeeci+iHquWPkeWFiVNoYWRlclxuXHRcdC8vIG5ldyBTaGFkZXJfR2xvd2luZ0VkZ2UoKTtcblx0fVxufVxuLy/mv4DmtLvlkK/liqjnsbtcbm5ldyBNYWluKCk7XG4iLCIvKipcbiAqIOiHquWumuS5ieaPj+i+ueadkOi0qOeQg1xuICovXG5leHBvcnQgY2xhc3MgQ3RtTWF0X091dGxpbmUgZXh0ZW5kcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbFxue1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29sb3I6IG51bWJlciA9IExheWEuU2hhZGVyM0QucHJvcGVydHlOYW1lVG9JRCggXCJ1X0NvbG9yXCIgKTtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExpbmVXaWR0aDogbnVtYmVyID0gTGF5YS5TaGFkZXIzRC5wcm9wZXJ0eU5hbWVUb0lEKCBcInVfTGluZVdpZHRoXCIgKTtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRleHR1cmU6IG51bWJlciA9IExheWEuU2hhZGVyM0QucHJvcGVydHlOYW1lVG9JRCggXCJ1X1RleHR1cmVcIiApO1xuXG4gICAgcHVibGljIGluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRTaGFkZXJOYW1lKCBcIkN0bVNoYV9PdXRsaW5lXCIgKTtcbiAgICAgICAgdGhpcy5yZW5kZXJNb2RlID0gTGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9PUEFRVUU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBDb2xvciggdmFsdWU6IExheWEuVmVjdG9yNCApXG4gICAge1xuICAgICAgICB0aGlzLl9zaGFkZXJWYWx1ZXMuc2V0VmVjdG9yKCBDdG1NYXRfT3V0bGluZS5Db2xvciwgdmFsdWUgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IExpbmVXaWR0aCggdmFsdWU6IG51bWJlciApXG4gICAge1xuICAgICAgICB0aGlzLl9zaGFkZXJWYWx1ZXMuc2V0TnVtYmVyKCBDdG1NYXRfT3V0bGluZS5MaW5lV2lkdGgsIHZhbHVlICk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBUZXh0dXJlKCB2YWx1ZTogTGF5YS5CYXNlVGV4dHVyZSApXG4gICAge1xuICAgICAgICB0aGlzLl9zaGFkZXJWYWx1ZXMuc2V0VGV4dHVyZSggQ3RtTWF0X091dGxpbmUuVGV4dHVyZSwgdmFsdWUgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDdG1TaGFfT3V0bGluZVxue1xuICAgIHB1YmxpYyBpbml0U2hhZGVyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVNYXAgPSB7XG4gICAgICAgICAgICBcImFfUG9zaXRpb25cIjogTGF5YS5WZXJ0ZXhNZXNoLk1FU0hfUE9TSVRJT04wLFxuICAgICAgICAgICAgXCJhX05vcm1hbFwiOiBMYXlhLlZlcnRleE1lc2guTUVTSF9OT1JNQUwwLFxuICAgICAgICAgICAgJ2FfVGV4Y29vcmQwJzogTGF5YS5WZXJ0ZXhNZXNoLk1FU0hfVEVYVFVSRUNPT1JESU5BVEUwLFxuICAgICAgICAgICAgJ2FfQm9uZVdlaWdodHMnOiBMYXlhLlZlcnRleE1lc2guTUVTSF9CTEVORFdFSUdIVDAsXG4gICAgICAgICAgICAnYV9Cb25lSW5kaWNlcyc6IExheWEuVmVydGV4TWVzaC5NRVNIX0JMRU5ESU5ESUNFUzBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVuaWZvcm1NYXAgPSB7XG4gICAgICAgICAgICAndV9Cb25lcyc6IExheWEuU2hhZGVyM0QuUEVSSU9EX0NVU1RPTSxcbiAgICAgICAgICAgICd1X012cE1hdHJpeCc6IExheWEuU2hhZGVyM0QuUEVSSU9EX1NQUklURSxcbiAgICAgICAgICAgICd1X1dvcmxkTWF0JzogTGF5YS5TaGFkZXIzRC5QRVJJT0RfU1BSSVRFLFxuICAgICAgICAgICAgJ3VfQ29sb3InOiBMYXlhLlNoYWRlcjNELlBFUklPRF9NQVRFUklBTCxcbiAgICAgICAgICAgICd1X0xpbmVXaWR0aCc6IExheWEuU2hhZGVyM0QuUEVSSU9EX01BVEVSSUFMLFxuICAgICAgICAgICAgJ3VfVGV4dHVyZSc6IExheWEuU2hhZGVyM0QuUEVSSU9EX01BVEVSSUFMLFxuXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHZzMSA9IGBcbiAgICAgICAgI2luY2x1ZGUgXCJMaWdodGluZy5nbHNsXCI7XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfUG9zaXRpb247XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFfVGV4Y29vcmQwO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjMyBhX05vcm1hbDtcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfTXZwTWF0cml4O1xuICAgICAgICB1bmlmb3JtIG1hdDQgdV9Xb3JsZE1hdDtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZfVGV4Y29vcmQwO1xuICAgICAgICB2YXJ5aW5nIHZlYzMgdl9Ob3JtYWw7XG5cbiAgICAgICAgI2lmZGVmIEJPTkVcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgYV9Cb25lSW5kaWNlcztcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgYV9Cb25lV2VpZ2h0cztcbiAgICAgICAgY29uc3QgaW50IGNfTWF4Qm9uZUNvdW50ID0gMjQ7XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1X0JvbmVzW2NfTWF4Qm9uZUNvdW50XTtcbiAgICAgICAgI2VuZGlmXG5cbiAgICAgICAgdm9pZCBtYWluKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy/orqHnrpfpobbngrnkvY3nva5cbiAgICAgICAgICAgIHZfVGV4Y29vcmQwID0gYV9UZXhjb29yZDA7XG4gICAgICAgICAgICAjaWZkZWYgQk9ORVxuICAgICAgICAgICAgbWF0NCBza2luVHJhbnNmb3JtPW1hdDQoMC4wKTtcbiAgICAgICAgICAgIHNraW5UcmFuc2Zvcm0gKz0gdV9Cb25lc1tpbnQoYV9Cb25lSW5kaWNlcy54KV0gKiBhX0JvbmVXZWlnaHRzLng7XG4gICAgICAgICAgICBza2luVHJhbnNmb3JtICs9IHVfQm9uZXNbaW50KGFfQm9uZUluZGljZXMueSldICogYV9Cb25lV2VpZ2h0cy55O1xuICAgICAgICAgICAgc2tpblRyYW5zZm9ybSArPSB1X0JvbmVzW2ludChhX0JvbmVJbmRpY2VzLnopXSAqIGFfQm9uZVdlaWdodHMuejtcbiAgICAgICAgICAgIHNraW5UcmFuc2Zvcm0gKz0gdV9Cb25lc1tpbnQoYV9Cb25lSW5kaWNlcy53KV0gKiBhX0JvbmVXZWlnaHRzLnc7XG4gICAgICAgICAgICB2ZWM0IHBvc2l0aW9uID0gc2tpblRyYW5zZm9ybSAqIGFfUG9zaXRpb247XG4gICAgICAgICAgICBnbF9Qb3NpdGlvbj11X012cE1hdHJpeCAqIHBvc2l0aW9uO1xuICAgICAgICAgICAgbWF0MyB3b3JsZE1hdD1tYXQzKHVfV29ybGRNYXQgKiBza2luVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICNlbHNlXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbj11X012cE1hdHJpeCAqIGFfUG9zaXRpb247XG4gICAgICAgICAgICBtYXQzIHdvcmxkTWF0PW1hdDModV9Xb3JsZE1hdCk7XG4gICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICAgIHZfTm9ybWFsPXdvcmxkTWF0KmFfTm9ybWFsO1xuICAgICAgICAgICAgZ2xfUG9zaXRpb249cmVtYXBHTFBvc2l0aW9uWihnbF9Qb3NpdGlvbik7IFxuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgICAgIGxldCBwczEgPSBgXG4gICAgICAgICNpZmRlZiBGU0hJR0hQUkVDSVNJT05cbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICAjZWxzZVxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICAgICAgI2VuZGlmXG4gICAgICAgIHVuaWZvcm0gdmVjNCB1X0NvbG9yO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X1RleHR1cmU7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2X1RleGNvb3JkMDtcblxuICAgICAgICB2b2lkIG1haW4oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL+e6ueeQhuWPluagt1xuICAgICAgICAgICAgLy8gZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsMC4wLDAuMCwxLjApOyBcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X1RleHR1cmUsdl9UZXhjb29yZDApO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgdmFyIGN1c3RvbVNoYWRlciA9IExheWEuU2hhZGVyM0QuYWRkKCBcIkN0bVNoYV9PdXRsaW5lXCIgKTtcbiAgICAgICAgdmFyIHN1YlNoYWRlciA9IG5ldyBMYXlhLlN1YlNoYWRlciggYXR0cmlidXRlTWFwLCB1bmlmb3JtTWFwLCBMYXlhLlNraW5uZWRNZXNoU3ByaXRlM0Quc2hhZGVyRGVmaW5lcywgTGF5YS5CbGlublBob25nTWF0ZXJpYWwuc2hhZGVyRGVmaW5lcyApO1xuICAgICAgICBjdXN0b21TaGFkZXIuYWRkU3ViU2hhZGVyKCBzdWJTaGFkZXIgKTtcbiAgICAgICAgc3ViU2hhZGVyLmFkZFNoYWRlclBhc3MoIHZzMSwgcHMxICk7XG5cbiAgICAgICAgbGV0IHZzMiA9IGBcbiAgICAgICAgI2luY2x1ZGUgXFxcIkxpZ2h0aW5nLmdsc2xcXFwiO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBhX1Bvc2l0aW9uO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjMyBhX05vcm1hbDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1X0xpbmVXaWR0aDtcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfTXZwTWF0cml4O1xuICAgICAgICB1bmlmb3JtIG1hdDQgdV9Xb3JsZE1hdDtcbiAgICAgICAgdmFyeWluZyB2ZWMzIHZfTm9ybWFsO1xuICAgICAgICAjaWZkZWYgQk9ORVxuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBhX0JvbmVJbmRpY2VzO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBhX0JvbmVXZWlnaHRzO1xuICAgICAgICBjb25zdCBpbnQgY19NYXhCb25lQ291bnQgPSAyNDtcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfQm9uZXNbY19NYXhCb25lQ291bnRdO1xuICAgICAgICAjZW5kaWZcbiAgICAgICAgdm9pZCBtYWluKClcbiAgICAgICAge1xuICAgICAgICAgICAgI2lmZGVmIEJPTkVcbiAgICAgICAgICAgIG1hdDQgc2tpblRyYW5zZm9ybT1tYXQ0KDAuMCk7XG4gICAgICAgICAgICBza2luVHJhbnNmb3JtICs9IHVfQm9uZXNbaW50KGFfQm9uZUluZGljZXMueCldICogYV9Cb25lV2VpZ2h0cy54O1xuICAgICAgICAgICAgc2tpblRyYW5zZm9ybSArPSB1X0JvbmVzW2ludChhX0JvbmVJbmRpY2VzLnkpXSAqIGFfQm9uZVdlaWdodHMueTtcbiAgICAgICAgICAgIHNraW5UcmFuc2Zvcm0gKz0gdV9Cb25lc1tpbnQoYV9Cb25lSW5kaWNlcy56KV0gKiBhX0JvbmVXZWlnaHRzLno7XG4gICAgICAgICAgICBza2luVHJhbnNmb3JtICs9IHVfQm9uZXNbaW50KGFfQm9uZUluZGljZXMudyldICogYV9Cb25lV2VpZ2h0cy53O1xuICAgICAgICAgICAgdmVjNCBuZXdQb3NpdGlvbiA9IHNraW5UcmFuc2Zvcm0gKiBhX1Bvc2l0aW9uO1xuICAgICAgICAgICAgbWF0MyB3b3JsZE1hdD1tYXQzKHVfV29ybGRNYXQgKiBza2luVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICNlbHNlXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbj11X012cE1hdHJpeCAqIGFfUG9zaXRpb247XG4gICAgICAgICAgICBtYXQzIHdvcmxkTWF0PW1hdDModV9Xb3JsZE1hdCk7XG4gICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICAgIHZfTm9ybWFsPXdvcmxkTWF0KmFfTm9ybWFsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL+mhtueCueS9jee9rivms5Xnur8q6ZW/5bqmXG4gICAgICAgICAgICB2ZWM0IHBvc2l0aW9uID0gdmVjNChhX1Bvc2l0aW9uLnh5eiArIGFfTm9ybWFsICogdV9MaW5lV2lkdGgsIDEuMCk7IFxuICAgICAgICAgICAgI2lmZGVmIEJPTkVcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gIHVfTXZwTWF0cml4ICogKHNraW5UcmFuc2Zvcm0gKiAgcG9zaXRpb24pOyBcbiAgICAgICAgICAgICNlbHNlXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9ICB1X012cE1hdHJpeCAqICBwb3NpdGlvbjsgXG4gICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgfVxuICAgICAgICBgO1xuICAgICAgICBsZXQgcHMyID0gYFxuICAgICAgICAjaWZkZWYgRlNISUdIUFJFQ0lTSU9OXG4gICAgICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgICAgICAgI2Vsc2VcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgICNlbmRpZlxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9Db2xvcjtcbiAgICAgICAgdm9pZCBtYWluKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy/orr7nva7mj4/ovrnpopzoibJcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHVfQ29sb3I7IFxuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgdmFyIHBhc3MxID0gc3ViU2hhZGVyLmFkZFNoYWRlclBhc3MoIHZzMiwgcHMyICk7XG4gICAgICAgIHBhc3MxLnJlbmRlclN0YXRlLmN1bGwgPSBMYXlhLlJlbmRlclN0YXRlLkNVTExfRlJPTlQ7XG4gICAgfVxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XG5pbXBvcnQgeyBDdG1TaGFfT3V0bGluZSwgQ3RtTWF0X091dGxpbmUgfSBmcm9tIFwiLi9DdG1NYXRfT3V0bGluZVwiO1xuaW1wb3J0IHsgQ3VzdG9tTWF0ZXJpYWwgfSBmcm9tIFwiLi9DdXN0b21NYXRlcmlhbFwiO1xuLyoqXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudGVzdC5UZXN0U2NlbmVVSVxue1xuICAgIHByaXZhdGUgX21hdGVyaWFsOiBDdG1NYXRfT3V0bGluZTtcbiAgICBwcml2YXRlIF9iYXNlTWF0ZXJpYWxzOiBBcnJheTxDdG1NYXRfT3V0bGluZT47XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG5ldyBDdG1TaGFfT3V0bGluZSgpLmluaXRTaGFkZXIoKTtcblxuICAgICAgICAvLyAvLyAvL+a3u+WKoDNE5Zy65pmvXG4gICAgICAgIHZhciBzY2VuZTogTGF5YS5TY2VuZTNEID0gTGF5YS5zdGFnZS5hZGRDaGlsZCggbmV3IExheWEuU2NlbmUzRCgpICkgYXMgTGF5YS5TY2VuZTNEO1xuXG4gICAgICAgIC8v5re75Yqg54Wn55u45py6XG4gICAgICAgIHZhciBjYW1lcmE6IExheWEuQ2FtZXJhID0gKCBzY2VuZS5hZGRDaGlsZCggbmV3IExheWEuQ2FtZXJhKCAwLCAwLjEsIDEwMCApICkgKSBhcyBMYXlhLkNhbWVyYTtcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUoIG5ldyBMYXlhLlZlY3RvcjMoIDAsIDMuNSwgNCApICk7XG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKCBuZXcgTGF5YS5WZWN0b3IzKCAtMzAsIDAsIDAgKSwgdHJ1ZSwgZmFsc2UgKTtcblxuICAgICAgICAvL+a3u+WKoOaWueWQkeWFiVxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZCggbmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSApIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMyggMC42LCAwLjYsIDAuNiApO1xuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZCggbmV3IExheWEuVmVjdG9yMyggMSwgLTEsIDAgKSApO1xuXG4gICAgICAgIHZhciBiYXNlTWF0ZXJpYWxzOiBBcnJheTxDdG1NYXRfT3V0bGluZT47XG4gICAgICAgIC8v5Yqg6L2957K+54G1XG4gICAgICAgIExheWEuU3ByaXRlM0QubG9hZCggXCJyZXMvdGhyZWVEaW1lbi9za2luTW9kZWwvZHVkZS9kdWRlLmxoXCIsIExheWEuSGFuZGxlci5jcmVhdGUoIHRoaXMsIGZ1bmN0aW9uICggZHVkZTogTGF5YS5TcHJpdGUzRCApOiB2b2lkXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjZW5lLmFkZENoaWxkKCBkdWRlICk7XG5cbiAgICAgICAgICAgIC8v5L2/55So6Ieq5a6a5LmJ5p2Q6LSoXG4gICAgICAgICAgICB2YXIgY3VzdG9tTWF0ZXJpYWwxOiBDdG1NYXRfT3V0bGluZSA9IG5ldyBDdG1NYXRfT3V0bGluZSgpO1xuICAgICAgICAgICAgY3VzdG9tTWF0ZXJpYWwxLmluaXQoKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsMS5Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoIDAsIDAsIDAsIDEgKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsMS5MaW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZCggXCJyZXMvdGhyZWVEaW1lbi9za2luTW9kZWwvZHVkZS9Bc3NldHMvZHVkZS9oZWFkLnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKCB0aGlzLCBmdW5jdGlvbiAoIHRleDogTGF5YS5UZXh0dXJlMkQgKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsMS5UZXh0dXJlID0gdGV4O1xuICAgICAgICAgICAgfSApICk7XG5cbiAgICAgICAgICAgIHZhciBjdXN0b21NYXRlcmlhbDI6IEN0bU1hdF9PdXRsaW5lID0gbmV3IEN0bU1hdF9PdXRsaW5lKCk7XG4gICAgICAgICAgICBjdXN0b21NYXRlcmlhbDIuaW5pdCgpO1xuICAgICAgICAgICAgY3VzdG9tTWF0ZXJpYWwyLkNvbG9yID0gbmV3IExheWEuVmVjdG9yNCggMCwgMCwgMCwgMSApO1xuICAgICAgICAgICAgY3VzdG9tTWF0ZXJpYWwyLkxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICBMYXlhLlRleHR1cmUyRC5sb2FkKCBcInJlcy90aHJlZURpbWVuL3NraW5Nb2RlbC9kdWRlL0Fzc2V0cy9kdWRlL2phY2tldC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSggdGhpcywgZnVuY3Rpb24gKCB0ZXg6IExheWEuVGV4dHVyZTJEICk6IHZvaWRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXN0b21NYXRlcmlhbDIuVGV4dHVyZSA9IHRleDtcbiAgICAgICAgICAgIH0gKSApO1xuXG4gICAgICAgICAgICB2YXIgY3VzdG9tTWF0ZXJpYWwzOiBDdG1NYXRfT3V0bGluZSA9IG5ldyBDdG1NYXRfT3V0bGluZSgpO1xuICAgICAgICAgICAgY3VzdG9tTWF0ZXJpYWwzLmluaXQoKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsMy5Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoIDAsIDAsIDAsIDEgKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsMy5MaW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZCggXCJyZXMvdGhyZWVEaW1lbi9za2luTW9kZWwvZHVkZS9Bc3NldHMvZHVkZS9wYW50cy5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSggdGhpcywgZnVuY3Rpb24gKCB0ZXg6IExheWEuVGV4dHVyZTJEICk6IHZvaWRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXN0b21NYXRlcmlhbDMuVGV4dHVyZSA9IHRleDtcbiAgICAgICAgICAgIH0gKSApO1xuXG4gICAgICAgICAgICB2YXIgY3VzdG9tTWF0ZXJpYWw0OiBDdG1NYXRfT3V0bGluZSA9IG5ldyBDdG1NYXRfT3V0bGluZSgpO1xuICAgICAgICAgICAgY3VzdG9tTWF0ZXJpYWw0LmluaXQoKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsNC5Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoIDAsIDAsIDAsIDEgKTtcbiAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsNC5MaW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZCggXCJyZXMvdGhyZWVEaW1lbi9za2luTW9kZWwvZHVkZS9Bc3NldHMvZHVkZS91cEJvZHlDLnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKCB0aGlzLCBmdW5jdGlvbiAoIHRleDogTGF5YS5UZXh0dXJlMkQgKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1c3RvbU1hdGVyaWFsNC5UZXh0dXJlID0gdGV4O1xuICAgICAgICAgICAgfSApICk7XG5cbiAgICAgICAgICAgIGJhc2VNYXRlcmlhbHMgPSBuZXcgQXJyYXk8Q3RtTWF0X091dGxpbmU+KCk7XG4gICAgICAgICAgICBiYXNlTWF0ZXJpYWxzWyAwIF0gPSBjdXN0b21NYXRlcmlhbDE7XG4gICAgICAgICAgICBiYXNlTWF0ZXJpYWxzWyAxIF0gPSBjdXN0b21NYXRlcmlhbDI7XG4gICAgICAgICAgICBiYXNlTWF0ZXJpYWxzWyAyIF0gPSBjdXN0b21NYXRlcmlhbDM7XG4gICAgICAgICAgICBiYXNlTWF0ZXJpYWxzWyAzIF0gPSBjdXN0b21NYXRlcmlhbDQ7XG4gICAgICAgICAgICB0aGlzLl9iYXNlTWF0ZXJpYWxzID0gYmFzZU1hdGVyaWFscztcblxuICAgICAgICAgICAgKCBkdWRlLmdldENoaWxkQXQoIDAgKS5nZXRDaGlsZEF0KCAwICkgYXMgTGF5YS5Ta2lubmVkTWVzaFNwcml0ZTNEICkuc2tpbm5lZE1lc2hSZW5kZXJlci5zaGFyZWRNYXRlcmlhbHMgPSBiYXNlTWF0ZXJpYWxzO1xuICAgICAgICAgICAgZHVkZS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgTGF5YS5WZWN0b3IzKCAwLCAwLCAwICk7XG4gICAgICAgICAgICBkdWRlLnRyYW5zZm9ybS5zY2FsZSA9IG5ldyBMYXlhLlZlY3RvcjMoIDAuNiwgMC42LCAwLjYgKTtcbiAgICAgICAgICAgIGR1ZGUudHJhbnNmb3JtLnJvdGF0ZSggbmV3IExheWEuVmVjdG9yMyggNSwgMTgwLCAwICksIGZhbHNlLCBmYWxzZSApO1xuXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCggMSwgdGhpcywgKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkdWRlLnRyYW5zZm9ybS5yb3RhdGUoIG5ldyBMYXlhLlZlY3RvcjMoIDAsIDEsIDAgKSwgZmFsc2UsIGZhbHNlICk7XG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSApICk7XG5cbiAgICAgICAgLy/mt7vliqDoh6rlrprkuYnmqKHlnotcbiAgICAgICAgLy8gdmFyIGJveDogTGF5YS5NZXNoU3ByaXRlM0QgPSBzY2VuZS5hZGRDaGlsZCggbmV3IExheWEuTWVzaFNwcml0ZTNEKCBMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KCAxLCAxLCAxICkgKSApIGFzIExheWEuTWVzaFNwcml0ZTNEO1xuICAgICAgICAvLyBib3gudHJhbnNmb3JtLnJvdGF0ZSggbmV3IExheWEuVmVjdG9yMyggMCwgNDUsIDAgKSwgZmFsc2UsIGZhbHNlICk7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsOiBDdG1NYXRfT3V0bGluZSA9IG5ldyBDdG1NYXRfT3V0bGluZSgpO1xuICAgICAgICAvLyBtYXRlcmlhbC5pbml0KCk7XG4gICAgICAgIC8vIG1hdGVyaWFsLkNvbG9yID0gbmV3IExheWEuVmVjdG9yNCggMCwgMCwgMCwgMSApO1xuICAgICAgICAvLyBtYXRlcmlhbC5MaW5lV2lkdGggPSAwO1xuICAgICAgICAvLyBMYXlhLlRleHR1cmUyRC5sb2FkKCBcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKCBudWxsLCBmdW5jdGlvbiAoIHRleDogTGF5YS5UZXh0dXJlMkQgKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICBtYXRlcmlhbC5UZXh0dXJlID0gdGV4O1xuICAgICAgICAvLyB9ICkgKTtcbiAgICAgICAgLy8gdGhpcy5fbWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgLy8gYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuXG4gICAgICAgIC8vIGxldCBvdXQ6IExheWEuUXVhdGVybmlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcbiAgICAgICAgLy8gbGV0IHlhdywgcGl0Y2gsIHJvbGw7XG4gICAgICAgIC8vIHlhdyA9IHBpdGNoID0gcm9sbCA9IDA7XG5cbiAgICAgICAgLy8gTGF5YS50aW1lci5mcmFtZUxvb3AoIDEsIHRoaXMsICgpID0+XG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHlhdyArPSAwLjAwNTtcbiAgICAgICAgLy8gICAgIHJvbGwgKz0gMC4wMDU7XG4gICAgICAgIC8vICAgICBMYXlhLlF1YXRlcm5pb24uY3JlYXRlRnJvbVlhd1BpdGNoUm9sbCggeWF3LCBwaXRjaCwgcm9sbCwgb3V0ICk7XG4gICAgICAgIC8vICAgICBib3gudHJhbnNmb3JtLnJvdGF0aW9uID0gb3V0O1xuICAgICAgICAvLyB9IClcblxuXG4gICAgICAgIHRoaXMuc2xpZGVyLnNob3dMYWJlbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNsaWRlci5jaGFuZ2VIYW5kbGVyID0gTGF5YS5IYW5kbGVyLmNyZWF0ZSggdGhpcywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCBiYXNlTWF0ZXJpYWxzICE9IG51bGwgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAoIGxldCBpOiBudW1iZXIgPSAwOyBpIDwgYmFzZU1hdGVyaWFscy5sZW5ndGg7IGkrKyApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlTWF0ZXJpYWxzWyBpIF0uTGluZVdpZHRoID0gdGhpcy5zbGlkZXIudmFsdWUgLyAxMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLkxpbmVXaWR0aCA9IHRoaXMuc2xpZGVyLnZhbHVlIC8gMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBudWxsLCBmYWxzZSApO1xuXG4gICAgICAgIHRoaXMuY29sb3JQaWNrZXIuY2hhbmdlSGFuZGxlciA9IG5ldyBMYXlhLkhhbmRsZXIoIHRoaXMsIHRoaXMub25DaGFuZ2VDb2xvciwgWyB0aGlzLmNvbG9yUGlja2VyIF0gKTtcblxuICAgICAgICB0aGlzLmJ0Lm9uKCBMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIGJhc2VNYXRlcmlhbHMgIT0gbnVsbCApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXIudmFsdWUgPSAxMDA7XG4gICAgICAgICAgICAgICAgZm9yICggbGV0IGk6IG51bWJlciA9IDA7IGkgPCBiYXNlTWF0ZXJpYWxzLmxlbmd0aDsgaSsrIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VNYXRlcmlhbHNbIGkgXS5MaW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5MaW5lV2lkdGggPSAwLjAxNTtcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlci52YWx1ZSA9IDAuMDE1ICogMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNoYW5nZUNvbG9yKCBjb2xvclBpY2tlcjogTGF5YS5Db2xvclBpY2tlciApOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgYXJyID0gdGhpcy5jb2xvclN0cmluZzJSR0IoIGNvbG9yUGlja2VyLnNlbGVjdGVkQ29sb3IgKS5zcGxpdCggXCIsXCIgKTtcbiAgICAgICAgaWYgKCB0aGlzLl9iYXNlTWF0ZXJpYWxzICE9IG51bGwgKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKCBsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMuX2Jhc2VNYXRlcmlhbHMubGVuZ3RoOyBpKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Jhc2VNYXRlcmlhbHNbIGkgXS5Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoIE51bWJlciggYXJyWyAwIF0gKSAvIDI1NSwgTnVtYmVyKCBhcnJbIDEgXSApIC8gMjU1LCBOdW1iZXIoIGFyclsgMiBdICkgLyAyNTUsIDEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLkNvbG9yID0gbmV3IExheWEuVmVjdG9yNCggTnVtYmVyKCBhcnJbIDAgXSApIC8gMjU1LCBOdW1iZXIoIGFyclsgMSBdICkgLyAyNTUsIE51bWJlciggYXJyWyAyIF0gKSAvIDI1NSwgMSApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogI2ZmZmZmZui9rFJHQuminOiJsuWAvFxuICAgICAqL1xuICAgIHB1YmxpYyBjb2xvclN0cmluZzJSR0IoIHZhbHVlOiBzdHJpbmcgKTogc3RyaW5nXG4gICAge1xuICAgICAgICB2YXIgcmVnID0gL14jKFswLTlhLWZBLWZdezN9fFswLTlhLWZBLWZdezZ9KSQvO1xuICAgICAgICB2YXIgc0NvbG9yID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCBzQ29sb3IgJiYgcmVnLnRlc3QoIHNDb2xvciApIClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCBzQ29sb3IubGVuZ3RoID09PSA0IClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc0NvbG9yTmV3ID0gXCIjXCI7XG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAxOyBpIDwgNDsgaSArPSAxIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNDb2xvck5ldyArPSBzQ29sb3Iuc2xpY2UoIGksIGkgKyAxICkuY29uY2F0KCBzQ29sb3Iuc2xpY2UoIGksIGkgKyAxICkgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc0NvbG9yID0gc0NvbG9yTmV3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/lpITnkIblha3kvY3nmoTpopzoibLlgLxcbiAgICAgICAgICAgIHZhciBzQ29sb3JDaGFuZ2UgPSBbXTtcbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMTsgaSA8IDc7IGkgKz0gMiApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc0NvbG9yQ2hhbmdlLnB1c2goIHBhcnNlSW50KCBcIjB4XCIgKyBzQ29sb3Iuc2xpY2UoIGksIGkgKyAyICkgKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNDb2xvckNoYW5nZS5qb2luKCBcIixcIiApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHNDb2xvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBzbGlkZXI6TGF5YS5IU2xpZGVyO1xuXHRcdHB1YmxpYyBjb2xvclBpY2tlcjpMYXlhLkNvbG9yUGlja2VyO1xuXHRcdHB1YmxpYyBidDpMYXlhLkJ1dHRvbjtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3QuVGVzdFNjZW5lVUlcIixUZXN0U2NlbmVVSSk7XHJcbn1cciJdfQ==
